 <!-- dashboard.html -->
<section class="space-y-6" data-shell-title="ADMIN Dashboard">

    <!-- Top : titre visible dans le contenu (optionnel) -->
    <!-- <header class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
      <div>
        <h2 class="text-2xl font-semibold">Tableau de bord</h2>
        <p class="text-sm text-gray-600">Vue d'ensemble des cotisations, membres et activité récente.</p>
      </div>
  
      <div class="flex items-center gap-3">
        <button class="px-3 py-2 bg-brand-green text-white rounded text-sm">Nouvelle cotisation</button>
        <button class="px-3 py-2 border rounded text-sm">Exporter</button>
      </div>
    </header> -->
  
    <!-- Cards résumé (responsive) -->
    <div class="grid grid-cols-1 sm:grid-cols-4 gap-4 py-5">
      <!-- Card 1 -->
      <div class="card bg-white p-4 rounded-xl shadow">
        <div class="text-gray-500 text-sm">Juin</div>
        <div class="text-2xl font-bold mt-2">225.000 FCFA</div>
        <div class="text-xs text-gray-400 mt-1">Nombre de cotisation: 27</div>
      </div>
    
      <!-- Card 2 -->
      <div class="card bg-white p-4 rounded-xl shadow">
        <div class="text-gray-500 text-sm">Mai</div>
        <div class="text-2xl font-bold mt-2">100.000 FCFA</div>
        <div class="text-xs text-gray-400 mt-1">Nombre de cotisation: 23</div>
      </div>
    
      <!-- Card 3 style caisse -->
      <div class="card bg-white p-4 rounded-xl shadow flex items-center sm:col-span-2">
        <!-- Icône -->
        <div class="bg-green-100 p-4 rounded-xl">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-[#20DF7F]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-2.5 0-4 2-4 4v1c0 2 1.5 4 4 4s4-2 4-4v-1c0-2-1.5-4-4-4z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h8" />
          </svg>
        </div>
    
        <!-- Texte + progression -->
        <div class="ml-4 flex-1">
          <div class="text-gray-700 font-semibold">Caisse</div>
          <div class="text-sm">
            <span class="text-[#20DF7F] font-bold">3.500.000 FCFA</span>
            <span class="text-gray-500 font-bold"> / 5.000.000 FCFA</span>
          </div>
          <!-- Progress bar -->
          <div class="w-full bg-gray-200 rounded-full h-2 mt-3 overflow-hidden">
            <div class="h-2 bg-[#20DF7F]" style="width:70%"></div>
          </div>
        </div>
      </div>
    </div>
    
    
  
    <!-- Graphiques (responsive) -->
    <!-- <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <div class="card p-4">
        <div class="flex items-center justify-between mb-3">
          <div class="font-semibold">Evolution des cotisations</div>
          <div class="text-xs text-gray-500">Derniers 7 mois</div>
        </div>
        <div style="height:280px;">
          <canvas id="lineChart"></canvas>
        </div>
      </div>
  
      <div class="card p-4">
        <div class="flex items-center justify-between mb-3">
          <div class="font-semibold">Répartition des statuts</div>
          <div class="text-xs text-gray-500">Terminé / En cours / Archivé / Bloqué</div>
        </div>
        <div class="flex gap-4 items-center">
          <div style="width:200px; height:200px;">
            <canvas id="doughnutChart"></canvas>
          </div>
          <div class="flex-1">
            <ul class="space-y-3">
              <li class="flex items-center gap-3">
                <span class="w-3 h-3 bg-brand-green rounded"></span><span>Terminé — 18%</span>
              </li>
              <li class="flex items-center gap-3">
                <span class="w-3 h-3 bg-brand-blue rounded"></span><span>En cours — 49%</span>
              </li>
              <li class="flex items-center gap-3">
                <span class="w-3 h-3 bg-pink-300 rounded"></span><span>Archivé — 23%</span>
              </li>
              <li class="flex items-center gap-3">
                <span class="w-3 h-3 bg-amber-300 rounded"></span><span>Bloqué — 9%</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!-- Charts -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
  <!-- Évolution des cotisations -->
  <div class="bg-white p-4 rounded-xl shadow">
    <div class="bg-[#20DF7F] text-white font-semibold px-4 py-2 rounded-t-xl -mx-4 -mt-4 mb-4">
      Evolution des cotisations en fonction du temps
    </div>
    <div style="height:280px;">
      <canvas id="lineChart"></canvas>
    </div>
  </div>

  <!-- Statistiques -->
  <div class="bg-white p-4 rounded-xl shadow">
    <div class="bg-[#20DF7F] text-white font-semibold px-4 py-2 rounded-t-xl -mx-4 -mt-4 mb-4">
      Statistiques
    </div>
    <div style="height:280px;">
      <canvas id="doughnutChart"></canvas>
    </div>
    <div class="flex justify-center mt-4 gap-6 text-sm">
      <div class="flex items-center gap-2">
        <span class="w-3 h-3 bg-[#20DF7F] rounded"></span> Terminé
      </div>
      <div class="flex items-center gap-2">
        <span class="w-3 h-3 bg-[#0F2D3D] rounded"></span> En cours
      </div>
      <div class="flex items-center gap-2">
        <span class="w-3 h-3 bg-pink-300 rounded"></span> Archivé
      </div>
      <div class="flex items-center gap-2">
        <span class="w-3 h-3 bg-amber-300 rounded"></span> Bloqué
      </div>
    </div>
  </div>
</div>


  
    <!-- Activité récente + Table responsive -->
    <!-- <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <!-- Tableau Cotisations Juin 
      <div class="bg-white p-4 rounded-xl shadow">
        <h3 class="font-bold mb-3 text-lg">Juin</h3>
        <div class="overflow-x-auto">
          <table class="w-full text-left border-collapse">
            <thead>
              <tr class="bg-[#20DF7F] text-white rounded-t-xl">
                <th class="p-3 text-sm font-semibold">Membres</th>
                <th class="p-3 text-sm font-semibold">Montant</th>
                <th class="p-3 text-sm font-semibold">Date</th>
                <th class="p-3 text-sm font-semibold">Statut</th>
              </tr>
            </thead>
            <tbody class="text-sm">
              <tr class="border-b">
                <td class="p-3">Selena Roy</td>
                <td class="p-3">25.000 FCFA</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 text-green-600 font-medium">Validé</td>
              </tr>
              <tr class="border-b">
                <td class="p-3">Emma Watson</td>
                <td class="p-3">25.000 FCFA</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 text-blue-700 font-medium">En attente</td>
              </tr>
              <tr class="border-b">
                <td class="p-3">Jhon Robert</td>
                <td class="p-3">25.000 FCFA</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 text-green-600 font-medium">Validé</td>
              </tr>
              <tr class="border-b">
                <td class="p-3">Anne Hathaway</td>
                <td class="p-3">25.000 FCFA</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 text-blue-700 font-medium">En attente</td>
              </tr>
              <tr class="border-b">
                <td class="p-3">Ravi Shankar</td>
                <td class="p-3">25.000 FCFA</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 text-green-600 font-medium">Validé</td>
              </tr>
              <tr>
                <td class="p-3">Emma Stone</td>
                <td class="p-3">25.000 FCFA</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 text-green-600 font-medium">Validé</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
     
      <!-- Tableau Top progression 
      <div class="bg-white p-4 rounded-xl shadow">
        <h3 class="font-bold mb-3 text-lg">Top progression</h3>
        <div class="overflow-x-auto">
          <table class="w-full text-left border-collapse">
            <thead>
              <tr class="bg-[#20DF7F] text-white rounded-t-xl">
                <th class="p-3 text-sm font-semibold">Membres</th>
                <th class="p-3 text-sm font-semibold">Date début</th>
                <th class="p-3 text-sm font-semibold">Progression</th>
              </tr>
            </thead>
            <tbody class="text-sm">
              <tr class="border-b">
                <td class="p-3">Selena Roy</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 flex items-center gap-2">
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-green-500 h-2 rounded-full" style="width:100%"></div>
                  </div>
                  <span class="text-gray-600 text-xs">100%</span>
                </td>
              </tr>
              <tr class="border-b">
                <td class="p-3">Jhon Robert</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 flex items-center gap-2">
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-green-500 h-2 rounded-full" style="width:100%"></div>
                  </div>
                  <span class="text-gray-600 text-xs">100%</span>
                </td>
              </tr>
              <tr class="border-b">
                <td class="p-3">Emma Stone</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 flex items-center gap-2">
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-gray-800 h-2 rounded-full" style="width:64%"></div>
                  </div>
                  <span class="text-gray-600 text-xs">64%</span>
                </td>
              </tr>
              <tr class="border-b">
                <td class="p-3">Emma Watson</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 flex items-center gap-2">
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-gray-800 h-2 rounded-full" style="width:57%"></div>
                  </div>
                  <span class="text-gray-600 text-xs">57%</span>
                </td>
              </tr>
              <tr class="border-b">
                <td class="p-3">Anne Hathaway</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 flex items-center gap-2">
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-gray-800 h-2 rounded-full" style="width:50%"></div>
                  </div>
                  <span class="text-gray-600 text-xs">50%</span>
                </td>
              </tr>
              <tr>
                <td class="p-3">Ravi Shankar</td>
                <td class="p-3">01-06-2022</td>
                <td class="p-3 flex items-center gap-2">
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-gray-800 h-2 rounded-full" style="width:50%"></div>
                  </div>
                  <span class="text-gray-600 text-xs">50%</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    
  -->

  <!-- Activité récente + Table responsive -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
  
  <!-- Tableau Cotisations Juin -->
  <div class="bg-white p-4 rounded-xl shadow">
    <h3 class="font-bold mb-3 text-lg">Juin</h3>
    <div class="overflow-x-auto">
      <table class="w-full text-left border-collapse">
        <thead>
          <tr class="bg-[#20DF7F] text-white rounded-t-xl">
            <th class="p-3 text-sm font-semibold">Membres</th>
            <th class="p-3 text-sm font-semibold">Montant</th>
            <th class="p-3 text-sm font-semibold">Date</th>
            <th class="p-3 text-sm font-semibold">Statut</th>
          </tr>
        </thead>
        <tbody id="cotisationsTable" class="text-sm">
          <!-- Les lignes seront injectées ici depuis Firebase -->
        </tbody>
      </table>
    </div>
  </div>
  
  <!-- Tableau Top progression -->
  <div class="bg-white p-4 rounded-xl shadow">
    <h3 class="font-bold mb-3 text-lg">Top progression</h3>
    <div class="overflow-x-auto">
      <table class="w-full text-left border-collapse">
        <thead>
          <tr class="bg-[#20DF7F] text-white rounded-t-xl">
            <th class="p-3 text-sm font-semibold">Membres</th>
            <th class="p-3 text-sm font-semibold">Date début</th>
            <th class="p-3 text-sm font-semibold">Progression</th>
          </tr>
        </thead>
        <tbody id="progressionTable" class="text-sm">
          <!-- Les lignes seront injectées ici depuis Firebase -->
        </tbody>
      </table>
    </div>
  </div>
</div>

  </section>
  
  <!-- Chart.js CDN (sera exécuté lors de l'injection) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <!-- Initialisation des charts -->
  <script>
    (function () {
      // safe: attendre que les canvas soient dans le DOM (injection faite)
      // Ligne des cotisations
      const lineCtxEl = document.getElementById('lineChart');
      if (lineCtxEl) {
        const lineCtx = lineCtxEl.getContext('2d');
        new Chart(lineCtx, {
          type: 'line',
          data: {
            labels: ['Mars','Avr','Mai','Juin','Juil','Août','Sept'],
            datasets: [{
              label: 'Cotisations',
              data: [20, 35, 28, 45, 50, 62, 55],
              borderColor: '#10b981',
              backgroundColor: 'rgba(16,185,129,0.08)',
              tension: 0.35,
              pointRadius: 4,
              pointBackgroundColor: '#08303a'
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
              y: { beginAtZero: true, max: 80, ticks: { stepSize: 20 } }
            }
          }
        });
      }
  
      // Doughnut
      const doughEl = document.getElementById('doughnutChart');
      if (doughEl) {
        const doughCtx = doughEl.getContext('2d');
        new Chart(doughCtx, {
          type: 'doughnut',
          data: {
            labels: ['En cours','Archivé','Bloqué','Terminé'],
            datasets: [{
              data: [49, 23, 9, 19],
              backgroundColor: ['#08303a','#fca5a5','#fcd34d','#10b981']
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            cutout: '60%'
          }
        });
      }
    })();
  </script>
  